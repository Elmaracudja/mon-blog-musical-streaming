<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Streaming Prot√©g√©</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; -webkit-user-select: none; user-select: none; }
        body { 
            font-family: system-ui, -apple-system, sans-serif; 
            background: linear-gradient(135deg, #0c0c1d, #1a1a3a); 
            min-height: 100vh; 
            display: flex; 
            align-items: center; 
            justify-content: center; 
            padding: 20px; 
        }
        .player { 
            background: rgba(255,255,255,0.06); 
            backdrop-filter: blur(25px); 
            border-radius: 28px; 
            padding: 40px; 
            width: 100%; 
            max-width: 450px; 
            text-align: center; 
            box-shadow: 0 30px 60px rgba(0,0,0,0.6); 
            border: 1px solid rgba(29,185,84,0.2);
        }
        h1 { color: #1db954; font-size: 1.8em; margin-bottom: 10px; font-weight: 800; }
        .track { color: #e2e8f0; font-size: 1.15em; margin-bottom: 30px; letter-spacing: 0.5px; }
        #customPlayer { 
            background: rgba(29,185,84,0.15); 
            border-radius: 20px; 
            padding: 25px; 
            margin: 25px 0; 
            cursor: pointer; 
            transition: all 0.3s; 
            position: relative; 
            overflow: hidden;
        }
        #customPlayer:hover { background: rgba(29,185,84,0.25); transform: scale(1.02); }
        #playIcon { font-size: 4em; color: #1db954; margin-bottom: 15px; }
        #progressBar { height: 6px; background: rgba(255,255,255,0.3); border-radius: 3px; overflow: hidden; margin: 15px 20px 0; }
        #progressFill { height: 100%; background: #1db954; width: 0%; transition: width 0.2s; border-radius: 3px; }
        #status { color: #94a3b8; font-size: 0.9em; margin-top: 12px; }
        .loading::after { content: "‚è≥ Chargement..."; }
        .playing::after { content: "‚ñ∂ En cours (45s max)"; }
        .nft-btn { 
            background: linear-gradient(45deg, #ff6b6b, #ffd93d); 
            color: white; 
            padding: 16px 36px; 
            text-decoration: none; 
            border-radius: 50px; 
            font-weight: 700; 
            font-size: 1.05em; 
            display: inline-block; 
            box-shadow: 0 15px 35px rgba(255,107,107,0.5); 
            transition: all 0.3s; 
        }
        .nft-btn:hover { transform: translateY(-3px); box-shadow: 0 20px 45px rgba(255,107,107,0.7); }
        .hidden { display: none !important; }
    </style>
</head>
<body oncontextmenu="return false;" onselectstart="return false;">
    <div class="player">
        <h1>üîí Preview S√©curis√©e</h1>
        <div class="track">Keep You Up - Version 2</div>
        
        <div id="customPlayer" onclick="toggleAudio()">
            <div id="playIcon">‚ñ∂</div>
            <div id="progressBar">
                <div id="progressFill"></div>
            </div>
            <div id="status">Clique pour √©couter (45s)</div>
        </div>
        
        <a href="#" class="nft-btn">üöÄ NFT Full Version</a>
    </div>

    <script>
        // URL ultra-obfusqu√©e (base64 + split)
        const parts = ['aHR0cHM6Ly9yYXc=','LmdpdGh1YnVzZXJjb250ZW50LmNvbS9FbG1hcmFjdWRqYS9tb24t','YmxvZy1tdXNpY2FsLXN0cmVhbWluZy9tYWluL2F1ZGlvL0tlZXAl','MjBZb3UlMjBVcCAlMjAtJTIwVmVyc2lvbiUyMCUyLm1wMw=='];
        const audioUrl = atob(parts[0]) + atob(parts[1]) + atob(parts[2]) + atob(parts[3]);
        
        let audio = new Audio();
        let isPlaying = false;
        let startTime = 0;
        
        // Config audio
        audio.preload = 'auto';
        audio.crossOrigin = 'anonymous';
        
        // √âv√©nements
        audio.addEventListener('loadedmetadata', () => {
            startTime = performance.now();
            updateStatus('Pr√™t');
        });
        
        audio.addEventListener('timeupdate', () => {
            if (audio.currentTime > 45 || (performance.now() - startTime) / 1000 > 45) {
                audio.pause();
                audio.currentTime = 0;
                toggleUI(false);
                updateStatus('Preview termin√©e');
            } else {
                document.getElementById('progressFill').style.width = 
                    Math.min((audio.currentTime / 45) * 100, 100) + '%';
            }
        });
        
        audio.addEventListener('ended', () => toggleUI(false));
        
        function toggleAudio() {
            if (!isPlaying) {
                fetch(audioUrl, { method: 'HEAD' })
                    .then(() => {
                        audio.src = audioUrl;
                        audio.load();
                        audio.play().catch(() => updateStatus('Active play manuellement'));
                        toggleUI(true);
                    })
                    .catch(() => updateStatus('Erreur chargement'));
            } else {
                audio.pause();
                toggleUI(false);
            }
        }
        
        function toggleUI(playing) {
            isPlaying = playing;
            document.getElementById('playIcon').textContent = playing ? '‚è∏' : '‚ñ∂';
            document.getElementById('customPlayer').className = playing ? 'playing' : '';
        }
        
        function updateStatus(text) {
            document.getElementById('status').textContent = text;
        }
        
        // Protections
        document.addEventListener('contextmenu', e => e.preventDefault());
        document.addEventListener('keydown', e => {
            if (e.key === 'F12' || (e.ctrlKey && e.shiftKey && e.key === 'I')) e.preventDefault();
        });
    </script>
</body>
</html>
